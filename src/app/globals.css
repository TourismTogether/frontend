@import "tailwindcss";
@import "tw-animate-css";
@import "leaflet/dist/leaflet.css";

@custom-variant dark (&:is(.dark *));

@theme inline {
  --color-background: var(--background);
  --color-foreground: var(--foreground);
  --font-sans: var(--font-geist-sans);
  --font-mono: var(--font-geist-mono);
  --color-sidebar-ring: var(--sidebar-ring);
  --color-sidebar-border: var(--sidebar-border);
  --color-sidebar-accent-foreground: var(--sidebar-accent-foreground);
  --color-sidebar-accent: var(--sidebar-accent);
  --color-sidebar-primary-foreground: var(--sidebar-primary-foreground);
  --color-sidebar-primary: var(--sidebar-primary);
  --color-sidebar-foreground: var(--sidebar-foreground);
  --color-sidebar: var(--sidebar);
  --color-chart-5: var(--chart-5);
  --color-chart-4: var(--chart-4);
  --color-chart-3: var(--chart-3);
  --color-chart-2: var(--chart-2);
  --color-chart-1: var(--chart-1);
  --color-ring: var(--ring);
  --color-input: var(--input);
  --color-border: var(--border);
  --color-destructive: var(--destructive);
  --color-accent-foreground: var(--accent-foreground);
  --color-accent: var(--accent);
  --color-muted-foreground: var(--muted-foreground);
  --color-muted: var(--muted);
  --color-secondary-foreground: var(--secondary-foreground);
  --color-secondary: var(--secondary);
  --color-primary-foreground: var(--primary-foreground);
  --color-primary: var(--primary);
  --color-popover-foreground: var(--popover-foreground);
  --color-popover: var(--popover);
  --color-card-foreground: var(--card-foreground);
  --color-card: var(--card);
  /* Guidelines Colors - NewPost Form */
  --color-guidelines-bg: var(--guidelines-bg);
  --color-guidelines-border: var(--guidelines-border);
  --color-guidelines-text: var(--guidelines-text);

  --radius-sm: calc(var(--radius) - 4px);
  --radius-md: calc(var(--radius) - 2px);
  --radius-lg: var(--radius);
  --radius-xl: calc(var(--radius) + 4px);

  /* Entity Colors - Đồng bộ với schema.sql */
  --color-users: var(--entity-users);
  --color-account: var(--entity-account);
  --color-admin: var(--entity-admin);
  --color-support-sos: var(--entity-support-sos);
  --color-traveller: var(--entity-traveller);
  --color-region: var(--entity-region);
  --color-destination: var(--entity-destination);
  --color-trip: var(--entity-trip);
  --color-routes: var(--entity-routes);
  --color-cost: var(--entity-cost);
  --color-post: var(--entity-post);
  --color-post-reply: var(--entity-post-reply);
  --color-diary: var(--entity-diary);
  --color-share-location: var(--entity-share-location);
}

:root {
  /* Light – Clean & Modern Adventure Theme */
  --radius: 0.5rem;

  --background: #ffffff; /* white clean */
  --foreground: #0f172a; /* slate-900 */

  --card: #ffffff;
  --card-foreground: #0f172a;

  --popover: #ffffff;
  --popover-foreground: #0f172a;

  --primary: #16a34a; /* green-600 - nature green (main theme) */
  --primary-foreground: #ffffff;

  --secondary: #f0fdf4; /* green-50 */
  --secondary-foreground: #166534; /* green-800 */

  --muted: #f7fafc;
  --muted-foreground: #64748b; /* slate-500 */

  --accent: #22c55e; /* green-500 - vibrant green */
  --accent-foreground: #ffffff;

  --destructive: #ef4444; /* red-500 */
  --border: #e2e8f0; /* slate-200 */
  --input: #e2e8f0;
  --ring: #16a34a; /* green-600 */

  /* Chart colors - vibrant & clear (green theme) */
  --chart-1: #22c55e; /* green-500 */
  --chart-2: #10b981; /* emerald-500 */
  --chart-3: #84cc16; /* lime-500 */
  --chart-4: #14b8a6; /* teal-500 */
  --chart-5: #16a34a; /* green-600 */

  /* Sidebar clean */
  --sidebar: #ffffff;
  --sidebar-foreground: #0f172a;
  --sidebar-primary: #16a34a; /* green-600 */
  --sidebar-primary-foreground: #ffffff;
  --sidebar-accent: #f0fdf4; /* green-50 */
  --sidebar-accent-foreground: #166534; /* green-800 */
  --sidebar-border: #bbf7d0; /* green-200 */
  --sidebar-ring: #16a34a; /* green-600 */

  /* Entity Colors - Đồng bộ với schema.sql (Light Mode) */
  /* USERS & ACCOUNT - Blue (người dùng cơ bản) */
  --entity-users: #3b82f6; /* blue-500 */
  --entity-account: #2563eb; /* blue-600 */

  /* ADMIN - Red (quyền quản trị) */
  --entity-admin: #ef4444; /* red-500 */

  /* SUPPORT_SOS_TEAM - Orange (hỗ trợ khẩn cấp) */
  --entity-support-sos: #f97316; /* orange-500 */

  /* TRAVELLER - Green (người du lịch) */
  --entity-traveller: #10b981; /* emerald-500 */

  /* REGION - Purple (khu vực) */
  --entity-region: #8b5cf6; /* purple-500 */

  /* DESTINATION - Cyan/Teal (điểm đến) */
  --entity-destination: #06b6d4; /* cyan-500 */

  /* TRIP - Amber/Yellow (chuyến đi) */
  --entity-trip: #f59e0b; /* amber-500 */

  /* ROUTES - Emerald (lộ trình) */
  --entity-routes: #10b981; /* emerald-500 */

  /* COST - Rose/Pink (chi phí) */
  --entity-cost: #f43f5e; /* rose-500 */

  /* POST & POST_REPLY - Indigo (bài viết) */
  --entity-post: #6366f1; /* indigo-500 */
  --entity-post-reply: #818cf8; /* indigo-400 */
  --guidelines-bg: #eff6ff; /* blue-50 */
  --guidelines-border: #dbeafe; /* blue-100 */
  --guidelines-text: #1d4ed8; /* blue-700 */

  /* DIARY - Violet (nhật ký) */
  --entity-diary: #a855f7; /* violet-500 */

  /* SHARE_LOCATION - Sky (chia sẻ vị trí) */
  --entity-share-location: #0ea5e9; /* sky-500 */
}

.dark {
  /* Dark – Professional Dark Theme */
  --background: #0f172a; /* slate-900 */
  --foreground: #f8fafc; /* slate-50 */

  --card: #1e293b; /* slate-800 */
  --card-foreground: #f8fafc;

  --popover: #1e293b;
  --popover-foreground: #f8fafc;

  --primary: #22c55e; /* green-500 */
  --primary-foreground: #ffffff;

  --secondary: #14532d; /* green-900 */
  --secondary-foreground: #dcfce7; /* green-100 */

  --muted: #1e293b;
  --muted-foreground: #94a3b8; /* slate-400 */

  --accent: #16a34a; /* green-600 */
  --accent-foreground: #ffffff;

  --destructive: #ef4444; /* red-500 */
  --border: #334155; /* slate-700 */
  --input: #334155;
  --ring: #22c55e; /* green-500 */

  /* Chart colors - dark optimized (green theme) */
  --chart-1: #4ade80; /* green-400 */
  --chart-2: #34d399; /* emerald-400 */
  --chart-3: #a3e635; /* lime-400 */
  --chart-4: #2dd4bf; /* teal-400 */
  --chart-5: #22c55e; /* green-500 */

  /* Sidebar dark */
  --sidebar: #1e293b;
  --sidebar-foreground: #f8fafc;
  --sidebar-primary: #22c55e; /* green-500 */
  --sidebar-primary-foreground: #ffffff;
  --sidebar-accent: #14532d; /* green-900 */
  --sidebar-accent-foreground: #dcfce7; /* green-100 */
  --sidebar-border: #166534; /* green-800 */
  --sidebar-ring: #22c55e; /* green-500 */

  /* Entity Colors - Đồng bộ với schema.sql (Dark Mode) */
  /* USERS & ACCOUNT - Blue (lighter for dark mode) */
  --entity-users: #60a5fa; /* blue-400 */
  --entity-account: #3b82f6; /* blue-500 */

  /* ADMIN - Red (lighter for dark mode) */
  --entity-admin: #f87171; /* red-400 */

  /* SUPPORT_SOS_TEAM - Orange (lighter for dark mode) */
  --entity-support-sos: #fb923c; /* orange-400 */

  /* TRAVELLER - Green (lighter for dark mode) */
  --entity-traveller: #34d399; /* emerald-400 */

  /* REGION - Purple (lighter for dark mode) */
  --entity-region: #a78bfa; /* purple-400 */

  /* DESTINATION - Cyan/Teal (lighter for dark mode) */
  --entity-destination: #22d3ee; /* cyan-400 */

  /* TRIP - Amber/Yellow (lighter for dark mode) */
  --entity-trip: #fbbf24; /* amber-400 */

  /* ROUTES - Emerald (lighter for dark mode) */
  --entity-routes: #34d399; /* emerald-400 */

  /* COST - Rose/Pink (lighter for dark mode) */
  --entity-cost: #fb7185; /* rose-400 */

  /* POST & POST_REPLY - Indigo (lighter for dark mode) */
  --entity-post: #818cf8; /* indigo-400 */
  --entity-post-reply: #a5b4fc; /* indigo-300 */
  --guidelines-bg: #1e3a8a; /* blue-900 */
  --guidelines-border: #1e40af; /* blue-800 */
  --guidelines-text: #93c5fd; /* blue-300 */

  /* DIARY - Violet (lighter for dark mode) */
  --entity-diary: #c084fc; /* violet-400 */

  /* SHARE_LOCATION - Sky (lighter for dark mode) */
  --entity-share-location: #38bdf8; /* sky-400 */
}

@layer base {
  * {
    @apply border-border outline-ring/50;
  }
  body {
    @apply bg-background text-foreground;
  }
}

/* ===== Themed vertical scrollbar (light/dark) ===== */
:root {
  --sb-track: var(--secondary);
  --sb-thumb: color-mix(in oklab, var(--accent) 60%, #000 10%);
  --sb-thumb-hover: color-mix(in oklab, var(--accent) 75%, #000 5%);
  --sb-corner: var(--card);
}

.dark {
  --sb-track: var(--secondary);
  --sb-thumb: color-mix(in oklab, var(--accent) 70%, #fff 10%);
  --sb-thumb-hover: color-mix(in oklab, var(--accent) 85%, #fff 5%);
  --sb-corner: var(--card);
}

/* Smooth + stable layout */
html {
  scroll-behavior: smooth;
  scrollbar-gutter: stable;
}

/* WebKit (Chrome/Edge/Safari) */
*::-webkit-scrollbar {
  width: 12px;
  height: 12px;
}
*::-webkit-scrollbar-track {
  background: var(--sb-track);
}
*::-webkit-scrollbar-thumb {
  background: var(--sb-thumb);
  border: 3px solid var(--sb-track);
  border-radius: 999px;
}
*::-webkit-scrollbar-thumb:hover {
  background: var(--sb-thumb-hover);
}
*::-webkit-scrollbar-corner {
  background: var(--sb-corner);
}

/* Firefox */
* {
  scrollbar-width: thin;
  scrollbar-color: var(--sb-thumb) var(--sb-track);
}

/* Utilities (tùy chọn) */
@layer utilities {
  .scrollbar-none::-webkit-scrollbar {
    display: none;
  }
  .scrollbar-none {
    scrollbar-width: none;
  }
  .snap-y {
    scroll-snap-type: y proximity;
  }
  .snap-section {
    scroll-snap-align: start;
  }

  /* Entity Color Utilities - Đồng bộ với schema.sql */
  .bg-users {
    background-color: var(--entity-users);
  }
  .bg-account {
    background-color: var(--entity-account);
  }
  .bg-admin {
    background-color: var(--entity-admin);
  }
  .bg-support-sos {
    background-color: var(--entity-support-sos);
  }
  .bg-traveller {
    background-color: var(--entity-traveller);
  }
  .bg-region {
    background-color: var(--entity-region);
  }
  .bg-destination {
    background-color: var(--entity-destination);
  }
  .bg-trip {
    background-color: var(--entity-trip);
  }
  .bg-routes {
    background-color: var(--entity-routes);
  }
  .bg-cost {
    background-color: var(--entity-cost);
  }
  .bg-post {
    background-color: var(--entity-post);
  }
  .bg-post-reply {
    background-color: var(--entity-post-reply);
  }
  .bg-diary {
    background-color: var(--entity-diary);
  }
  .bg-share-location {
    background-color: var(--entity-share-location);
  }

  .text-users {
    color: var(--entity-users);
  }
  .text-account {
    color: var(--entity-account);
  }
  .text-admin {
    color: var(--entity-admin);
  }
  .text-support-sos {
    color: var(--entity-support-sos);
  }
  .text-traveller {
    color: var(--entity-traveller);
  }
  .text-region {
    color: var(--entity-region);
  }
  .text-destination {
    color: var(--entity-destination);
  }
  .text-trip {
    color: var(--entity-trip);
  }
  .text-routes {
    color: var(--entity-routes);
  }
  .text-cost {
    color: var(--entity-cost);
  }
  .text-post {
    color: var(--entity-post);
  }
  .text-post-reply {
    color: var(--entity-post-reply);
  }
  .text-diary {
    color: var(--entity-diary);
  }
  .text-share-location {
    color: var(--entity-share-location);
  }

  .border-users {
    border-color: var(--entity-users);
  }
  .border-account {
    border-color: var(--entity-account);
  }
  .border-admin {
    border-color: var(--entity-admin);
  }
  .border-support-sos {
    border-color: var(--entity-support-sos);
  }
  .border-traveller {
    border-color: var(--entity-traveller);
  }
  .border-region {
    border-color: var(--entity-region);
  }
  .border-destination {
    border-color: var(--entity-destination);
  }
  .border-trip {
    border-color: var(--entity-trip);
  }
  .border-routes {
    border-color: var(--entity-routes);
  }
  .border-cost {
    border-color: var(--entity-cost);
  }
  .border-post {
    border-color: var(--entity-post);
  }
  .border-post-reply {
    border-color: var(--entity-post-reply);
  }
  .border-diary {
    border-color: var(--entity-diary);
  }
  .border-share-location {
    border-color: var(--entity-share-location);
  }
}

/* Leaflet Map Custom Styles */
.custom-route-marker,
.custom-special-marker {
  background: transparent !important;
  border: none !important;
}

/* Route Popup Styling */
.route-popup .leaflet-popup-content-wrapper {
  border-radius: 12px;
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
}

.route-popup .leaflet-popup-content {
  margin: 0;
  padding: 0;
}

.route-popup .leaflet-popup-tip {
  background: white;
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
}

/* Auth animations */
@keyframes fade-in {
  from {
    opacity: 0;
    transform: translateY(10px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

.animate-fade-in {
  animation: fade-in 0.5s ease-out;
}

/* Travel-themed Animations */

/* Floating animations */
@keyframes float-slow {
  0%, 100% {
    transform: translateY(0px) translateX(0px);
  }
  50% {
    transform: translateY(-20px) translateX(10px);
  }
}

@keyframes float-medium {
  0%, 100% {
    transform: translateY(0px) translateX(0px);
  }
  50% {
    transform: translateY(-30px) translateX(15px);
  }
}

@keyframes float-fast {
  0%, 100% {
    transform: translateY(0px) translateX(0px);
  }
  50% {
    transform: translateY(-40px) translateX(20px);
  }
}

@keyframes float-reverse {
  0%, 100% {
    transform: translateY(0px) translateX(0px);
  }
  50% {
    transform: translateY(20px) translateX(-10px);
  }
}

.animate-float-slow {
  animation: float-slow 6s ease-in-out infinite;
}

.animate-float-medium {
  animation: float-medium 4s ease-in-out infinite;
}

.animate-float-fast {
  animation: float-fast 3s ease-in-out infinite;
}

.animate-float-reverse {
  animation: float-reverse 5s ease-in-out infinite;
}

/* Pulse animations */
@keyframes pulse-gentle {
  0%, 100% {
    opacity: 1;
    transform: scale(1);
  }
  50% {
    opacity: 0.8;
    transform: scale(1.05);
  }
}

@keyframes pulse-glow {
  0%, 100% {
    opacity: 1;
    box-shadow: 0 0 20px rgba(34, 197, 94, 0.3);
  }
  50% {
    opacity: 0.9;
    box-shadow: 0 0 40px rgba(34, 197, 94, 0.6);
  }
}

@keyframes pulse-soft {
  0%, 100% {
    opacity: 1;
  }
  50% {
    opacity: 0.7;
  }
}

.animate-pulse-gentle {
  animation: pulse-gentle 3s ease-in-out infinite;
}

.animate-pulse-glow {
  animation: pulse-glow 2s ease-in-out infinite;
}

.animate-pulse-soft {
  animation: pulse-soft 4s ease-in-out infinite;
}

/* Rotation animations */
@keyframes rotate-slow {
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
}

@keyframes rotate-medium {
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
}

.animate-rotate-slow {
  animation: rotate-slow 20s linear infinite;
}

.animate-rotate-medium {
  animation: rotate-medium 10s linear infinite;
}

/* Slide animations */
@keyframes slide-up {
  from {
    opacity: 0;
    transform: translateY(30px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

@keyframes slide-down {
  from {
    opacity: 0;
    transform: translateY(-30px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

@keyframes slide-left {
  from {
    opacity: 0;
    transform: translateX(30px);
  }
  to {
    opacity: 1;
    transform: translateX(0);
  }
}

@keyframes slide-right {
  from {
    opacity: 0;
    transform: translateX(-30px);
  }
  to {
    opacity: 1;
    transform: translateX(0);
  }
}

.animate-slide-up {
  animation: slide-up 0.6s ease-out;
}

.animate-slide-down {
  animation: slide-down 0.6s ease-out;
}

.animate-slide-left {
  animation: slide-left 0.6s ease-out;
}

.animate-slide-right {
  animation: slide-right 0.6s ease-out;
}

/* Fade animations */
@keyframes fade-in-up {
  from {
    opacity: 0;
    transform: translateY(20px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

@keyframes fade-in-down {
  from {
    opacity: 0;
    transform: translateY(-20px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

.animate-fade-in-up {
  animation: fade-in-up 0.6s ease-out;
}

.animate-fade-in-down {
  animation: fade-in-down 0.6s ease-out;
}

/* Bounce animations */
@keyframes bounce-gentle {
  0%, 100% {
    transform: translateY(0);
  }
  50% {
    transform: translateY(-10px);
  }
}

@keyframes bounce-soft {
  0%, 100% {
    transform: translateY(0);
  }
  50% {
    transform: translateY(-5px);
  }
}

.animate-bounce-gentle {
  animation: bounce-gentle 2s ease-in-out infinite;
}

.animate-bounce-soft {
  animation: bounce-soft 3s ease-in-out infinite;
}

/* Shimmer effect */
@keyframes shimmer {
  0% {
    background-position: -1000px 0;
  }
  100% {
    background-position: 1000px 0;
  }
}

.animate-shimmer {
  background: linear-gradient(
    90deg,
    transparent 0%,
    rgba(255, 255, 255, 0.2) 50%,
    transparent 100%
  );
  background-size: 1000px 100%;
  animation: shimmer 3s infinite;
}

/* Wave animation */
@keyframes wave {
  0%, 100% {
    transform: translateY(0) rotate(0deg);
  }
  25% {
    transform: translateY(-10px) rotate(5deg);
  }
  75% {
    transform: translateY(10px) rotate(-5deg);
  }
}

.animate-wave {
  animation: wave 2s ease-in-out infinite;
  transform-origin: center bottom;
}

/* Gradient animation */
@keyframes gradient-shift {
  0% {
    background-position: 0% 50%;
  }
  50% {
    background-position: 100% 50%;
  }
  100% {
    background-position: 0% 50%;
  }
}

.animate-gradient {
  background-size: 200% 200%;
  animation: gradient-shift 5s ease infinite;
}